<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:x="http://xpert.com/faces">
    <h:form id="formDetailReservaLocal" styleClass="uix-form-detail">
        <p:tabView>
            <p:tab title="Solicitação" >
                <div class="container-fluid">
                    <div class="row">
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Orgão']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.orgao}" styleClass="uix-content-detail">
                                    <x:initializer ></x:initializer>
                            </h:outputText>
                        </div>
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Local']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.local}" styleClass="uix-content-detail">
                                <x:initializer/>
                            </h:outputText>
                        </div>
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Título']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.titulo}" styleClass="uix-content-detail"/>
                        </div>

                        
                    </div>
                    <div class="row">
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Data Inicial']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.dataInicio}" styleClass="uix-content-detail">
                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
                            </h:outputText>
                        </div> 
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Data Final']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.dataFinal}" styleClass="uix-content-detail">
                                <f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
                            </h:outputText>
                        </div>
                         <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Solicitante']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.solicitante}" styleClass="uix-content-detail"/>
                        </div>
                    </div>
                
                    <div class="row">
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Orgão do Solicitante']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.orgao_solicitante}" styleClass="uix-content-detail">
                                <x:initializer/>
                            </h:outputText>
                        </div>
                        
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Contato']}:" styleClass="control-label" /><br/>
                            <h:outputText value="#{reservaLocalMB.reserva.contato}" styleClass="uix-content-detail"/>
                        </div>
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Motivo']}:" styleClass="control-label" /><br/>   
                            <p:inputTextarea readonly="true" value="#{reservaLocalMB.reserva.observacao}" styleClass="form-control" />
                        </div>
                    </div>
                </div>
            </p:tab>    
            <p:tab title="Anexo">
                <div class="container-fluid">
                    <div class="row">
                        <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                            <h:outputLabel value="#{msg['Arquivos']}:" styleClass="control-label" /><br/>
                            <p:fieldset legend="Listagem de Arquivos">

                                    <p:dataTable emptyMessage="#{xmsg['noRecordFound']}"

                                                 var="arquivo" rowIndexVar="index" id="dataTableArquivo" widgetVar="dataTableArquivoWidget" styleClass="table-responsive"

                                                 value="#{reservaLocalMB.arquivos}" >

                                        <p:column styleClass="uix-datatable-index">

                                            <h:outputText value="#{index+1}"/>

                                        </p:column>


                                        <p:column headerText="#{msg['arquivo.nome']}" width="80%" style="text-align: center;">

                                            <f:facet name="header">

                                                <h:outputText value="#{msg['Nome']}" />

                                            </f:facet>

                                            <h:outputText value="#{arquivo.nome}"/>



                                        </p:column>

                                        <p:column styleClass="uix-datatable-actions" exportable="false" headerText="#{xmsg['actions']}">

                                            <f:facet name="header">

                                                <h:outputText value="#{xmsg['actions']}"/>

                                            </f:facet>          

                                            <p:commandButton icon="ui-icon-arrowthickstop-1-s" title="Download" ajax="false" immediate="true" update="dataTableArquivo
                                                             ">

                                                <p:fileDownload value="#{reservaLocalMB.download(arquivo)}" />

                                            </p:commandButton>
                                        </p:column>

                                    </p:dataTable>

                                </p:fieldset> 
                        </div>
                    </div>
                </div>    
            </p:tab>
        </p:tabView>

        <p:separator/>
        <div class="uix-center">
            <p:commandButton type="button" value="#{xmsg['close']}" onclick="PF('widgetReservaLocalDetail').hide()" />
            <x:securityArea rolesAllowed="reservaLocal.audit">
                <x:audit for="#{reservaLocalMB.reserva}"/>
            </x:securityArea>
        </div>
    </h:form>
</ui:composition>