<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:x="http://xpert.com/faces">


    <h:form id="formCreateUnidade" >
        <x:modalMessages/>
        <p:fieldset legend="#{xmsg['generalData']}">
            <div class="container-fluid">
                <div class="row">
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="sigla" value="* Sigla:" />
                        <p:inputText id="sigla" value="#{unidadeMB.entity.sigla}" maxlength="50"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="nome" value="* #{msg['unidade.nome']}:" />
                        <p:inputText id="nome" value="#{unidadeMB.entity.nome}" maxlength="250"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="tipo" value="* Tipo:" />
                        <h:selectOneMenu id="tipo" value="#{unidadeMB.entity.tipo}"  styleClass="form-control" >
                            <f:selectItem itemLabel="#{xmsg['select']}" />
                            <f:selectItems value="#{findAllBean.get(classMB.tipoUnidade)}" 
                                           var="tipo"
                                           itemLabel="#{tipo.descricao}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="circunscricao" value="* Designação:" />
                        <h:selectOneMenu id="circunscricao" value="#{unidadeMB.entity.circunscricao}" converter="entityConverter" 
                                         styleClass="form-control" >
                            <x:initializer/>
                            <f:selectItem itemLabel="#{xmsg['select']}" />
                            <f:selectItems value="#{findAllBean.get(classMB.circunscricao)}" 
                                           var="circunscricao"
                                           itemLabel="#{circunscricao}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="circunscricaoBairro" value="Circunscrição por Bairro:" />
                        <h:selectOneMenu id="circunscricaoBairro" value="#{unidadeMB.entity.circunscricaoBairro}" converter="entityConverter" 
                                         styleClass="form-control" >
                            <x:initializer/>
                            <f:selectItem itemLabel="#{xmsg['select']}" />
                            <f:selectItems value="#{findAllBean.get(classMB.circunscricao_Bairro)}" 
                                           var="circunscricao"
                                           itemLabel="#{circunscricao}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="faixaEtariaVitima" value="Faixa Etária Vítima:" />
                        <h:selectOneMenu id="faixaEtariaVitima" value="#{unidadeMB.entity.faixaEtariaVitima}"  styleClass="form-control" >
                            <f:selectItems value="#{findAllBean.get(classMB.faixaEtaria)}" 
                                           var="faixa"
                                           itemLabel="#{faixa.descricao}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="faixaEtariaAgressor" value="Faixa Etária Agressor" />
                        <h:selectOneMenu id="faixaEtariaAgressor" value="#{unidadeMB.entity.faixaEtariaAgressor}"  styleClass="form-control" >
                            <f:selectItems value="#{findAllBean.get(classMB.faixaEtaria)}" 
                                           var="faixa"
                                           itemLabel="#{faixa.descricao}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <div class="checkbox">
                            <label>
                                <h:selectBooleanCheckbox value="#{unidadeMB.entity.visualizarDenunciaNormal}" />
                                Denúncia Normal
                            </label>
                        </div>
                        <h:outputText value="Ao marcar essa opção o usuário podera ver as denúncias do Tipo Normal (Formulário App)" styleClass="help-block"/>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <div class="checkbox">
                            <label>
                                <h:selectBooleanCheckbox value="#{unidadeMB.entity.visualizarDenunciaPanico}" />
                                Denúncia Pânico
                            </label>
                        </div>
                        <h:outputText value="Ao marcar essa opção o usuário podera ver as denúncias do Botão Pânico" styleClass="help-block"/>
                    </div>
                </div>
            </div>
        </p:fieldset>
        <p:fieldset legend="Endereço">
            <div class="container-fluid">
                <div class="row">
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="endereco" value="* #{msg['endereco.endereco']}:" />
                        <p:inputText id="endereco" value="#{unidadeMB.entity.endereco.endereco}" maxlength="260"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="numero" value="* #{msg['endereco.numero']}:" />
                        <p:inputText id="numero" value="#{unidadeMB.entity.endereco.numero}" maxlength="60"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="complemento" value="#{msg['endereco.complemento']}:" />
                        <p:inputText id="complemento" value="#{unidadeMB.entity.endereco.complemento}" maxlength="260"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="cep" value="* #{msg['endereco.cep']}:" />
                        <p:inputMask id="cep" value="#{unidadeMB.entity.endereco.cep}" mask="99999-999"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="cidade" value="* Cidade" />
                        <h:selectOneMenu id="cidade" value="#{unidadeMB.cidadeFiltro}" converter="entityConverter" 
                                         styleClass="form-control" >
                            <x:initializer/>
                            <f:selectItem itemLabel="#{xmsg['select']}" />
                            <f:selectItems value="#{findAllBean.get(classMB.cidade)}" 
                                           var="cidade"
                                           itemLabel="#{cidade}"/>
                            <p:ajax process="@this" update="bairro" listener="#{unidadeMB.bairroPelaCidade()}"/>
                        </h:selectOneMenu>
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="bairro" value="* Bairro:" />
                        <h:selectOneMenu id="bairro" value="#{unidadeMB.entity.endereco.bairro}" converter="entityConverter" 
                                         styleClass="form-control" >
                            <x:initializer/>
                            <f:selectItem itemLabel="#{xmsg['select']}" />
                            <f:selectItems value="#{unidadeMB.bairros}" 
                                           var="bairro"
                                           itemLabel="#{bairro}"/>
                        </h:selectOneMenu>
                    </div>
                </div>
            </div>
        </p:fieldset>
        <p:fieldset legend="Coordenadas">
            <div class="container-fluid">
                <div class="row">
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="latitude" value="Latitude:" />
                        <p:inputText id="latitude" value="#{unidadeMB.entity.endereco.latitude}" maxlength="60"  styleClass="form-control"  />
                    </div>
                    <div class="form-group col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <h:outputLabel for="longitude" value="Longitude:" />
                        <p:inputText id="longitude" value="#{unidadeMB.entity.endereco.longitude}" maxlength="60"  styleClass="form-control"  />
                    </div>
                </div>
            </div>
        </p:fieldset>
        <h:outputText value="#{xmsg['requiredFieldsForm']}"/>
        <div class="uix-center">
            <x:securityArea rolesAllowed="unidade.create">
                <p:commandButton process="@form" update="@form" action="#{unidadeMB.save}" value="#{xmsg['save']}" />
            </x:securityArea>
            <x:securityArea rolesAllowed="unidade.audit">
                <x:audit for="#{unidadeMB.entity}"/>
            </x:securityArea>
        </div>
    </h:form>

</ui:composition>